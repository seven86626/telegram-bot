from flask import Flask
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup, InputMediaPhoto, InputMediaVideo
from telegram.ext import ApplicationBuilder, MessageHandler, ContextTypes, filters
import threading
import os

TOKEN = os.environ["BOT_TOKEN"]
CREATOR_ID = 7157918161  # ä½ çš„ Telegram ID

app = Flask(__name__)

# ç´” Python å­—å…¸é—œéµå­—è³‡æ–™ï¼ˆåœ–ç‰‡ç‚ºä¸Šå‚³è‡³ Replit çš„æª”åï¼‰
reply_rules = {
    "NEW": {
        "media": ["NEW.jpg"],
        "text": None,
        "button": {"text": "Join channel", "url": "https://t.me/+_iNARwr0ev8wOGY9"}
    },
    "LP": {
        "media": ["LP.jpg"],
        "text": None,
        "button": None
    },
    "LK": {
        "media": [],
        "text": "Honey leave room keep clean,and Put the key back on the door mat and don't lock it\n\nà¸‚à¸§à¸”à¸™à¹‰à¸³à¹€à¸”à¸·à¸­à¸”ï¹‘à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¹€à¸›à¹ˆà¸²à¸œà¸¡ï¹‘à¹„à¸Ÿà¸à¸¥à¸²à¸‡à¸„à¸·à¸™\nà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”ï¹‘à¸œà¹‰à¸²à¸«à¹ˆà¸¡ï¹‘à¸«à¸¡à¸­à¸™ï¹‘à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸™à¸µà¸šà¸œà¸¡\nà¸ˆà¸³à¹„à¸§à¹‰à¸§à¹ˆà¸²à¸­à¸¢à¹ˆà¸²à¸™à¸³à¸ªà¸´à¹ˆà¸‡à¸‚à¸­à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸‚à¸­à¸‡à¸šà¸£à¸´à¸©à¸±à¸—à¸­à¸­à¸à¹„à¸›\nà¹ƒà¸«à¹‰à¸œà¸¹à¹‰à¸«à¸à¸´à¸‡à¸„à¸™à¸•à¹ˆà¸­à¹„à¸›à¹ƒà¸Šà¹‰\nà¸–à¹ˆà¸²à¸¢à¸§à¸´à¸”à¸µà¹‚à¸­à¸‚à¸­à¸‡à¸«à¹‰à¸­à¸‡à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¹à¸™à¹ˆà¹ƒà¸ˆà¸§à¹ˆà¸²à¸«à¹‰à¸­à¸‡à¸ªà¸°à¸­à¸²à¸”à¹à¸¥à¸°à¸¡à¸µà¸à¸²à¸£à¹€à¸à¹‡à¸šà¸£à¸±à¸à¸©à¸²à¸ªà¸´à¹ˆà¸‡à¸‚à¸­à¸‡à¸•à¹ˆà¸²à¸‡à¹†ðŸ™ðŸ»ðŸ™ðŸ»\n\nà¸à¹ˆà¸­à¸™à¸à¸¥à¸±à¸š à¸­à¸¢à¹ˆà¸²à¸¥à¸·à¸¡à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”à¸«à¹‰à¸­à¸‡à¹à¸¥à¸°à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹ƒà¸«à¹‰à¸‰à¸±à¸™ à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”à¸–à¸±à¸‡à¸‚à¸¢à¸°\nâ€¼ï¸à¸­à¸¢à¹ˆà¸²à¸¥à¸·à¸¡à¸›à¸´à¸”à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸›à¸£à¸±à¸šà¸­à¸²à¸à¸²à¸¨â€¼ï¸\n\nà¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¸—à¹à¸²à¸‡à¸²à¸™à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¹ƒà¸™à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸™à¸µà¹‰\nà¸£à¸­à¸„à¸­à¸¢à¸—à¸µà¹ˆà¸ˆà¸°à¹„à¸”à¹‰à¸žà¸šà¸„à¸¸à¸“à¹ƒà¸™à¸„à¸£à¸±à¹‰à¸‡à¸•à¹ˆà¸­à¹„à¸›ðŸ¥ºðŸ¦‹ðŸ’›",
        "button": None
    },
    "ZA": {
        "media": [],
        "text": "ðŸ””à¸ªà¸§à¸±à¸ªà¸”à¸µà¸•à¸­à¸™à¹€à¸Šà¹‰à¸² ðŸŒžðŸ’™\nà¸•à¸­à¸™à¸™à¸µà¹ˆà¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹€à¸‹à¸Ÿà¸Ÿà¸µà¹ˆà¹ƒà¸«à¹‰à¸‰à¸±à¸™à¸”à¸¹à¸«à¸™à¹ˆà¸­à¸¢\nà¸‰à¸±à¸™à¸­à¸¢à¸²à¸à¸”à¸¹à¹ƒà¸™à¸à¸²à¸£à¹à¸•à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¸‚à¸­à¸‡à¸„à¸¸à¸“",
        "button": None
    },
    "ZPK": {
        "media": [],
        "text": "à¸à¹ˆà¸­à¸™à¹€à¸§à¸¥à¸²à¸‡à¸²à¸™ à¹à¸•à¹ˆà¸‡à¸«à¸™à¹‰à¸² à¹€à¸ªà¸£à¹‡à¸ˆà¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¸•à¸±à¸§à¹€à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸à¸¥à¸¸à¹ˆà¸¡à¸ˆà¹‰à¸²à¸²",
        "button": None
    },
    "ZP": {
        "media": [],
        "text": "à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹€à¸‹à¸¥à¸Ÿà¸µà¹ˆ(à¸«à¸™à¹‰à¸²)à¸•à¸­à¸™à¸™à¸µà¹‰\nà¸ªà¹ˆà¸‡à¹€à¸‚à¹‰à¸²à¸à¸¥à¸¸à¹ˆà¸¡\nà¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¹à¸•à¹ˆà¸‡à¸«à¸™à¹‰à¸²",
        "button": None
    },
    "NZ": {
        "media": ["NZ.jpg"],
        "text": "à¸‰à¸±à¸™à¸ªà¸¹à¸à¹€à¸ªà¸µà¸¢à¸à¸²à¸£à¹à¸•à¹ˆà¸‡à¸«à¸™à¹‰à¸²à¸ªà¹ˆà¸§à¸™à¹€à¸à¸´à¸™\nà¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§",
        "button": None
    },
    "FF": {
        "media": [],
        "text": "ðŸ¥©ðŸ¥© Honey à¸à¹ˆà¸­à¸™à¹„à¸›à¸à¸´à¸™à¸‚à¹‰à¸²à¸§à¹€à¸­à¸²à¸à¸¸à¸à¹à¸ˆà¹„à¸›à¸”à¹‰à¸§à¸¢\nà¸¥à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸à¸¥à¸¸à¹ˆà¸¡à¸—à¸³à¸‡à¸²à¸™à¹€à¸ªà¸£à¹Šà¸ˆà¸–à¸¶à¸‡à¸­à¸­à¸à¹„à¸›à¹„à¸”à¹‰\nà¸«à¸™à¸¶à¹ˆà¸‡à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡à¸ªà¸³à¸«à¸£à¸±à¸šà¸¡à¸·à¹‰à¸­à¹€à¸¢à¹‡à¸™",
        "button": None
    },
    "ZH": {
        "media": [],
        "text": "HoneyðŸ’•\nà¸—à¸³à¸‡à¸²à¸™à¸§à¸±à¸™à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢à¸§à¸±à¸™à¹„à¸«à¸™ à¸—à¸³à¸–à¸¶à¸‡à¸à¸µà¹ˆà¹‚à¸¡à¸‡\n à¸„à¸·à¸™à¸«à¹‰à¸­à¸‡à¸•à¸­à¸™à¸à¸µà¹ˆà¹‚à¸¡à¸‡à¸­à¸­à¸à¸à¸µà¹ˆà¹‚à¸¡à¸‡",
        "button": None
    },
    "BP": {
        "media": ["BP.jpg"],
        "text": "à¸šà¸­à¸à¸«à¸¡à¸²à¸¢à¹€à¸¥à¸‚à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ ðŸ§¡\n\nà¸ªà¸•à¸²à¸Ÿà¸ˆà¸°à¹€à¸­à¸²à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸³à¸‡à¸²à¸™à¸¡à¸²à¹ƒà¸«à¹‰à¸—à¸¸à¸à¸§à¸±à¸™ à¸§à¸±à¸™à¸­à¸±à¸‡à¸„à¸²à¸£ à¸žà¸¤à¸«à¸±à¸ª à¹€à¸ªà¸²à¸£à¹Œ à¸«à¸²à¸à¸‚à¸²à¸”à¸­à¸°à¹„à¸£à¹ƒà¸«à¹‰à¹à¸ˆà¹‰à¸‡à¸—à¸µà¹€à¸”à¸µà¸¢à¸§ à¹€à¸žà¸£à¸²à¸°à¸§à¸±à¸™à¸­à¸·à¹ˆà¸™à¹„à¸¡à¹ˆà¸¡à¸µà¸ªà¸•à¸²à¸Ÿà¸ªà¹ˆà¸‡à¸‚à¸­à¸‡à¹ƒà¸«à¹‰\n\nà¸™à¹‰à¸³à¸”à¸·à¹ˆà¸¡ à¸‹à¸·à¹‰à¸­à¸à¸´à¸™à¹€à¸­à¸‡à¸™à¸°à¸„à¸° à¸—à¸µà¹ˆà¸™à¸µà¹ˆà¹€à¸£à¸²à¸¡à¸µà¹ƒà¸«à¹‰à¹à¸„à¹ˆ à¸™à¹‰à¸³à¸¢à¸²à¸šà¹‰à¸§à¸™à¸›à¸²à¸ 2 à¸‚à¸§à¸” à¸–à¹‰à¸²à¹ƒà¸Šà¹‰à¸«à¸¡à¸”à¹à¸¥à¹‰à¸§ à¸™à¹‰à¸­à¸‡à¸•à¹‰à¸­à¸‡à¸‹à¸·à¹‰à¸­à¹€à¸­à¸‡à¸ˆà¹‰à¸²",
        "button": None
    },
    "DS": {
        "media": [],
        "text": "When the driver collects the money, he will charge an additional 500 cleaning fee.\nWait to finish work and leave the room\nThe driver will check whether the room is clean\nWill refund 500",
        "button": None
    },
    "KQ": {
        "media": [],
        "text": "â€»à¸–à¹‰à¸²à¸„à¸¸à¸“à¹„à¸¡à¹ˆà¸¡à¸²à¸—à¸³à¸‡à¸²à¸™à¸•à¸²à¸¡à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸•à¸à¸¥à¸‡à¹ƒà¸™à¸«à¹‰à¸­à¸‡à¸ªà¸§à¸µà¸—à¸ˆà¸°à¸–à¸¹à¸à¸«à¸±à¸ 1,000 à¸«à¸™à¸¶à¹ˆà¸‡à¸§à¸±à¸™\nâ€» à¸«à¸²à¸à¸„à¸¸à¸“à¸­à¸­à¸à¸à¹ˆà¸­à¸™à¹€à¸§à¸¥à¸²à¹à¸¥à¸°à¹„à¸¡à¹ˆà¸—à¸³à¸•à¸²à¸¡à¸à¸³à¸«à¸™à¸”à¹€à¸§à¸¥à¸² à¸ˆà¸°à¸–à¸¹à¸à¸«à¸±à¸ 1,000 à¸ªà¸³à¸«à¸£à¸±à¸šà¸«à¸™à¸¶à¹ˆà¸‡à¸§à¸±à¸™\n...\n(æ­¤è™•çœç•¥ç‚ºç¯€çœç©ºé–“ï¼Œå®Œæ•´å…§å®¹å·²ä¿ç•™åœ¨ç¨‹å¼ç¢¼ä¸­)\n...",
        "button": None
    },
    "BK": {
        "media": [],
        "text": "ðŸ’¥ðŸ’¥ðŸ’¥à¸ˆà¸³à¹„à¸”à¹‰à¸§à¹ˆà¸²à¹„à¸”à¹‰à¸¢à¸´à¸™à¹€à¸ªà¸µà¸¢à¸‡à¹€à¸„à¸²à¸°\nà¹„à¸¡à¹ˆà¹€à¸„à¸¢à¹€à¸›à¸´à¸”à¸›à¸£à¸°à¸•à¸¹\nà¸–à¹‰à¸²à¹€à¸£à¸²à¸šà¸­à¸à¹ƒà¸«à¹‰à¹€à¸›à¸´à¸”à¸›à¸£à¸°à¸•à¸¹à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™\nà¸ˆà¸¶à¸‡à¸ˆà¸°à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸›à¸´à¸”à¸›à¸£à¸°à¸•à¸¹à¹„à¸”à¹‰ðŸ’¥ðŸ’¥ðŸ’¥",
        "button": None
    },
    "YP": {
        "media": ["YP (1).mp4", "YP (2).mp4"],
        "text": "à¸Šà¹ˆà¸§à¸¢à¸–à¹ˆà¸²à¸¢à¸§à¸µà¸”à¸µà¹‚à¸­à¹à¸šà¸šà¸™à¸µà¹ˆà¹ƒà¸«à¹‰à¸‰à¸±à¸™\nà¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¸•à¹‰à¸­à¸‡à¹€à¸«à¹‡à¸™à¸«à¸™à¹‰à¸² \nà¹à¸•à¹ˆà¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸–à¹ˆà¸²à¸¢à¹à¸šà¸š à¹€à¸‹à¹‡à¸à¸‹à¸µà¹ˆ\nà¸–à¹ˆà¸²à¸¢à¹à¸šà¸šà¸«à¸¥à¸²à¸¢à¸¡à¸¸à¸¡\nà¸‰à¸±à¸™à¸ˆà¸°à¸Šà¹ˆà¸§à¸¢à¸—à¸³à¹‚à¸†à¸©à¸“à¸²à¸ªà¸§à¸¢à¹†",
        "button": None
    },
    "PQ": {
        "media": ["PQ.jpg"],
        "text": "If you receive counterfeit money, you have to pay for it yourself",
        "button": None
    },
    "LS": {
        "media": [],
        "text": "à¸µà¹ˆà¸£à¸±à¸à¹ƒà¸ªà¹ˆà¸‚à¸¢à¸°à¸‚à¹‰à¸²à¸‡à¸™à¸­à¸à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹ƒà¸«à¹‰à¹€à¸£à¸²à¹ƒà¸ªà¹ˆà¹€à¸žà¸µà¸¢à¸‡ 2-3 à¹à¸žà¹‡à¸„ â¤ï¸\nâ€¼ï¸â€¼ï¸â€¼ï¸â€¼ï¸\nà¸–à¹‰à¸²à¹„à¸¡à¹ˆà¸—à¸´à¹‰à¸‡à¸‚à¸¢à¸°à¸•à¸£à¸‡à¹€à¸§à¸¥à¸² à¸„à¸™à¸‚à¹‰à¸²à¸‡à¸šà¹‰à¸²à¸™à¸ˆà¸°à¹à¸ˆà¹‰à¸‡à¸•à¸³à¸£à¸§à¸ˆ\nà¸–à¹‰à¸²à¸•à¸³à¸£à¸§à¸ˆà¸¡à¸²à¸—à¸²à¸‡à¸šà¸£à¸´à¸©à¸±à¸—à¸ˆà¸°à¹„à¸¡à¹ˆà¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š",
        "button": None
    },
    "LJ": {
        "media": [],
        "text": "à¸•à¸³à¸£à¸§à¸ˆà¸•à¸£à¸°à¹€à¸§à¸™à¸Šà¸²à¸¢à¹à¸”à¸™ ka\nà¹€à¸‡à¸µà¸¢à¸šðŸ¤«\nà¹€à¸„à¸²à¸°à¹„à¸¡à¹ˆà¹€à¸„à¸¢à¹€à¸›à¸´à¸”",
        "button": None
    },
    "EAT": {
        "media": ["EAT (1).jpg", "EAT (2).jpg", "EAT (3).jpg"],
        "text": "åœ°å€ï¼šå°åŒ—å¸‚ä¸­å±±å€å‰æž—è·¯169è™Ÿ\nà¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ: No. 169, Jilin Road, Zhongshan District, Taipei City",
        "button": {
            "text": "ðŸŒ Google map ðŸŒ",
            "url": "https://maps.app.goo.gl/ZwMRtfk5zQL3igTA8?g_st=com.google.maps.preview.copy"
        }
    },
    "CLG": {"media": [], "text": "customer need à¸ˆà¸¹à¸šà¹à¸¥à¸à¸¥à¸´à¹‰à¸™ðŸ’‹", "button": None},
    "CDL": {"media": [], "text": "customer need à¹€à¸¥à¸µà¸¢à¸•à¸¹à¸”ðŸ‘…", "button": None},
    "CNP": {"media": [], "text": "customer need à¹€à¸‹à¹‡à¸à¸—à¸²à¸‡à¸£à¹ˆà¸­à¸‡à¸­à¸ ðŸ¼", "button": None},
    "CWT": {"media": [], "text": "customer need +1000  à¹€à¸­à¸²à¸ªà¸” ðŸ’¦ðŸ’¦", "button": None},
    "CYS": {"media": [], "text": "customer need  +500 à¹à¸•à¸à¸«à¸™à¹‰à¸² ðŸ¤¦ðŸ»â€â™€ï¸ðŸ’¦", "button": None},
    "CYW": {"media": [], "text": "customer need  à¹€à¸•à¹‰à¸™à¹€à¸‹à¹‡à¸à¸‹à¸µà¹ˆ ðŸ’ƒðŸ»ðŸ’ƒðŸ»", "button": None},
    "CHM": {"media": [], "text": "customer need +1000 à¹€à¸­à¸²à¸•à¸¹à¸” ðŸ«¶ðŸ»ðŸ•³", "button": None},
    "CKB": {"media": [], "text": "customer need +500 à¹à¸•à¸à¸›à¸²à¸ðŸ‘„", "button": None},
    "CZW": {"media": [], "text": "customer need à¹‚à¸Šà¸§à¹Œà¸Šà¹ˆà¸§à¸¢à¸•à¸±à¸§à¹€à¸­à¸‡ ðŸ«´ðŸ»", "button": None},
    "CBH": {"media": [], "text": "customer need à¸ªà¸¥à¸±à¸šà¸­à¸­à¸£à¸±à¸¥à¹€à¸‹à¹‡à¸à¸‹à¹Œà¸”à¹‰à¸§à¸¢à¸™à¹‰à¸³à¹€à¸¢à¹‡à¸™à¹à¸¥à¸°à¸™à¹‰à¸³à¸£à¹‰à¸­à¸™ ðŸ§ŠðŸ”¥", "button": None},
    "CTC": {"media": [], "text": "customer need à¸­à¸²à¸šà¸™à¹‰à¸³à¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸²à¸”à¹‰à¸§à¸¢à¸«à¸™à¹‰à¸²à¸­à¸ ðŸ§¼", "button": None},
    "CQQ": {"media": [], "text": "customer need à¸—à¸³à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§à¸–à¸­à¸”à¸–à¸¸à¸‡à¸¢à¸²à¸‡à¸­à¸­à¸ à¹ƒà¸Šà¹‰à¸›à¸²à¸à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”à¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸² ðŸ˜‹ðŸ†", "button": None},
    "CZJ": {"media": [], "text": "customer need  à¹€à¸­à¸²à¹€à¸—à¹‰à¸²à¸–à¸¹à¸à¸±à¸šà¸­à¸§à¸±à¸¢à¸§à¸°à¹€à¸žà¸¨à¸‚à¸­à¸‡à¸¥à¸¹à¸à¸„à¹‰à¸² ðŸ¦¶ðŸ»ðŸ†", "button": None},
    "CSW": {"media": [], "text": "customer need  à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸•à¸£à¸µà¸¢à¸¡à¸–à¸¸à¸‡à¸™à¹ˆà¸­à¸‡à¸¡à¸²à¹ƒà¸«à¹‰ ðŸ§¦", "button": None},
    "C2B": {"media": [], "text": "2à¸Šà¸²à¸¢ 1à¸«à¸à¸´à¸‡ ðŸš¹ðŸš¹ðŸšº", "button": None},
    "C2G": {"media": [], "text": "à¸«à¸à¸´à¸‡ 2 à¸Šà¸²à¸¢ 1 ðŸšºðŸšºðŸš¹", "button": None},
    "CQJ": {"media": [], "text": "à¸‚à¹ˆà¸¡à¸‚à¸·à¸™à¸¥à¸¹à¸à¸„à¹‰à¸²ðŸ˜ˆðŸ˜ˆ", "button": None},
    "LZ": {
        "media": ["LZ.jpg"],
        "text": "Honey have cus he have this\nyou can do mai ?\nIf you can't is Ok\nshop don't want you force do ka",
        "button": None
    },
    "DH": {
        "media": ["DH.jpg"],
        "text": "à¹€à¸¡à¸·à¹ˆà¸­à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸£à¹‰à¸²à¸™à¹à¸ˆà¹‰à¸‡à¸à¸¥à¸¸à¹ˆà¸¡ in1(à¸¥à¸¹à¸à¸„à¹‰à¸²à¸„à¸™à¸—à¸µà¹ˆà¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ)/3300(à¸¢à¸­à¸”à¹€à¸‡à¸´à¸™à¸—à¸µà¹ˆà¹€à¸à¹‡à¸š)\n\nà¸žà¸­à¸£à¸±à¸šà¹€à¸‡à¸´à¸™à¸ˆà¸²à¸à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸¡à¸²à¸•à¹‰à¸­à¸‡à¸£à¸µà¸šà¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹à¸¥à¸°à¸‹à¹ˆà¸­à¸™à¹„à¸§à¹‰à¸”à¸µà¹†\nà¸žà¸²à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸«à¹‰à¸­à¸‡à¸™à¹‰à¸³à¸à¹ˆà¸­à¸™ à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸™à¸±à¹‰à¸™à¹€à¸‚à¹‰à¸²à¸«à¹‰à¸­à¸‡à¹€à¸à¹‡à¸šà¹€à¸‡à¸´à¸™à¹„à¸§à¹‰à¹ƒà¸«à¹‰à¸”à¸µà¸„à¹ˆà¸­à¸¢à¸•à¸²à¸¡à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸«à¹‰à¸­à¸‡à¸™à¹‰à¸³\nà¸–à¹‰à¸²à¹„à¸”à¹‰à¹à¸šà¹Šà¸‡à¸›à¸¥à¸­à¸¡à¸«à¸™à¸¹à¸•à¹‰à¸­à¸‡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¹€à¸­à¸‡\nà¸­à¸¢à¹ˆà¸²à¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸«à¹‡à¸™à¸§à¹ˆà¸²à¸„à¸¸à¸“à¹€à¸à¹‡à¸šà¹€à¸‡à¸´à¸™à¹„à¸§à¹‰à¸—à¸µà¹ˆà¹„à¸«à¸™",
        "button": None
    },
    "CCCC": {
        "media": ["CCCC.jpg"],
        "text": "à¸¥à¸„à¹€à¸‚à¹‰à¸²à¸¡à¸² à¹ƒà¸™à¸«à¹‰à¸­à¸‡\nà¹€à¸à¹‡à¸šà¸•à¸±à¸‡  à¸žà¸´à¸¡à¸žà¹Œà¸£à¸­à¸šà¸‡à¸²à¸™\nà¸ˆà¸±à¸šà¸¡à¸·à¸­ à¸¥à¸„à¹„à¸›à¸­à¹ˆà¸²à¸šà¸™à¹‰à¸³\nà¸­à¹ˆà¸²à¸™à¸™à¹‰à¸³à¹„à¸«à¹‰à¸¥à¸„ à¸ˆà¸°à¹„à¸”à¹‰à¸£à¸¹à¹‰ à¸ªà¸°à¸­à¸²à¸”à¹„à¸«à¸¡à¸„à¹ˆà¸²\nà¸­à¸¡à¸ªà¸” à¹ƒà¸™à¸«à¹‰à¸­à¸‡à¸™à¹‰à¸³ à¹€à¸¥à¹‰à¸²à¹‚à¸¥à¸¡à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆ à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸«à¹‰à¸­à¸‡à¸™à¹‰à¸³  à¸­à¹ˆà¸²à¸™à¸™à¹‰à¸³à¹€à¸ªà¸£à¹‡à¸ˆ à¹€à¸Šà¹‡à¸„à¸•à¸±à¸§ à¸žà¸²à¸¥à¸„ à¸¡à¸²à¹ƒà¸™à¹€à¸•à¸µà¸¢à¸‡à¸™à¸­à¸™ à¹€à¸¥à¸µà¸¢ à¸•à¸£à¸‡à¹„à¸«à¸™à¹„à¸”à¹‰ à¹€à¸¥à¸µà¸¢à¹€à¸¥à¸¢à¸„à¹ˆà¸² à¸„à¸­à¸¢à¹†à¹€à¸¥à¹‰à¸²à¹‚à¸¥à¸¡à¸¥à¸„ à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸£à¸µà¸š à¸žà¸¢à¸²à¸¢à¸²à¸¡à¸­à¸¡à¸ªà¸” à¸™à¸²à¸™à¹† à¹„à¸«à¹‰à¸¥à¸„ à¹„à¸«à¹‰à¸¥à¸„à¸£à¸¹à¹‰à¸ªà¸¶à¸à¸§à¹ˆà¸² à¹€à¸£à¸²à¹€à¸›à¹‡à¸™à¹à¸Ÿà¸™ à¹€à¸‚à¸²\nà¸¥à¸„ à¹€à¸ªà¸£à¹‡à¸ˆ à¸žà¸²à¹„à¸›à¸¥à¹‰à¸²à¸‡à¸•à¸±à¸§ à¸¡à¸µà¹€à¸§à¸¥à¸² à¸™à¸§à¸” à¹€à¸­à¸²à¹ƒà¸ˆ à¸¥à¸„ à¸–à¸¶à¸‡à¹€à¸§à¸¥à¸² à¹ƒà¸ªà¹ˆà¹€à¸ªà¸·à¹‰à¸­à¸œà¹‰à¸² à¹„à¸«à¹‰à¸¥à¸„à¸­à¸­à¸à¸ˆà¸²à¸à¸«à¹‰à¸­à¸‡ à¸„à¹ˆà¸²",
        "button": None
    },
    "VIP": {
        "media": ["VIP.jpg"],
        "text": "à¹€à¸”à¸µà¸¢à¸§à¸¥à¸¹à¸à¸„à¹ˆà¸²à¸„à¸™à¸™à¸µà¹ˆ\nà¸ªà¸³à¸„à¸±à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”\nà¸™à¸²à¸‡à¹€à¸›à¹‡à¸™à¸™à¸±à¸à¹€à¸‚à¸µà¸¢à¸™à¸£à¸µà¸§à¸´à¸§\nà¹€à¸‚à¸µà¸¢à¸™à¸”à¸µ à¸›à¸±à¸‡à¸•à¸¥à¸­à¸”\nà¹€à¸‚à¸µà¸¢à¸™à¹„à¸¡à¹ˆà¸”à¸µ à¸”à¸±à¸šà¸—à¸±à¸™à¸—à¸µ\nà¸šà¸£à¸´à¸à¸²à¸£à¸Ÿà¸´à¸§à¹à¸Ÿà¸™à¹€à¸‹à¸­à¸§à¸´à¸•à¹€à¸•à¹‡à¸¡à¸—à¸µà¹ˆà¸„à¸£à¸±à¸š",
        "button": None
    },
    "MT": {
        "media": [],
        "text": "à¸›à¸£à¸°à¸à¸²à¸¨à¸à¸¥à¸¸à¹ˆà¸¡\nà¸«à¸²à¸à¸­à¸²à¸«à¸²à¸£à¸—à¸²à¸™à¹„à¸¡à¹ˆà¸«à¸¡à¸”à¸­à¸¢à¹ˆà¸²à¹€à¸—à¸¥à¸‡à¹‚à¸–à¸ªà¹‰à¸§à¸¡ à¹€à¸—à¹„à¸”à¹‰à¹à¸„à¹ˆà¸™à¹‰à¸³à¸‹à¸¸à¸› à¹„à¸¡à¹ˆà¸‡à¸±à¹‰à¸™à¹‚à¸–à¸ªà¹‰à¸§à¸¡à¸­à¸¸à¸”à¸•à¸±à¸™à¸à¸”à¹„à¸¡à¹ˆà¸¥à¸‡",
        "button": None
    },
    "YS": {
        "media": [],
        "text": "ðŸ”‘à¸­à¸¢à¹ˆà¸²à¸¥à¸·à¸¡à¹€à¸­à¸²à¸à¸¸à¸à¹à¸ˆà¹„à¸›à¸”à¹‰à¸§à¸¢à¸•à¸­à¸™à¸­à¸­à¸à¸ˆà¸²à¸à¸«à¹‰à¸­à¸‡",
        "button": None
    },
    "ZB": {
        "media": [],
        "text": "à¹à¸ˆà¹‰à¸‡à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸—à¸£à¸²à¸šà¸«à¸²à¸à¸„à¸¸à¸“à¸žà¸£à¹‰à¸­à¸¡\nà¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¸”à¸µà¹à¸à¹ˆà¸¥à¸¹à¸à¸„à¹‰à¸²ðŸ’–",
        "button": None
    },
    "HB": {
        "media": [],
        "text": "message_text = "à¸­à¸¢à¹ˆà¸²à¹ƒà¸«à¹‰à¸¥à¸„à¹€à¸«à¹‡à¸™à¸à¸¥à¸¸à¹ˆà¸¡à¸‡à¸²à¸™à¹€à¸£à¸²\n" \
               "à¸«à¸²à¸à¸¥à¸¹à¸à¸„à¹‰à¸²à¸šà¸­à¸à¸§à¹ˆà¸²à¹€à¸§à¸¥à¸² 30 or 50 à¸™à¸²à¸—à¸µ\n" \
               "à¹€à¸£à¸²à¸•à¸à¸¥à¸‡à¸à¸±à¸šà¸¥à¸„à¸à¹ˆà¸­à¸™à¸„à¹ˆà¸°\n" \
               "à¹à¸•à¹ˆà¸ˆà¸£à¸´à¸‡à¹† à¹€à¸£à¸²à¸šà¸£à¸´à¸à¸²à¸£à¹à¸„à¹ˆ 20 or 40 à¸™à¸²à¸—à¸µà¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™à¸„à¹ˆà¸°\n\n" \
               "à¸«à¹‰à¸²à¸¡à¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸²à¸”à¸¹à¹à¸Šà¸—à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸”à¹‡à¸”à¸‚à¸²à¸”\n" \
               "à¸–à¹‰à¸²à¹€à¸­à¸²à¹à¸Šà¸—à¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸«à¹‡à¸™ à¸›à¸£à¸±à¸š 5000 à¸«à¸¢à¸§à¸™\n" \
               "à¸–à¹‰à¸²à¹à¸¥à¸à¹€à¸šà¸­à¸£à¹Œà¸•à¸´à¸”à¸•à¹ˆà¸­à¸à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸² à¸›à¸£à¸±à¸š 10000 à¸«à¸¢à¸§à¸™",
        "button": None
    }
}
# ä¸»è™•ç†å‡½å¼
async def reply(update: Update, context: ContextTypes.DEFAULT_TYPE):
    msg = update.message
    if msg is None or msg.text is None:
        return

    # å›žå‚³åœ–ç‰‡æª” file_id çµ¦å‰µå»ºè€…ä½¿ç”¨
    if msg.chat.type == "private" and msg.from_user.id == CREATOR_ID:
        if msg.photo:
            await msg.reply_text(f"ðŸ“¸ åœ–ç‰‡ file_idï¼š{msg.photo[-1].file_id}")
        elif msg.video:
            await msg.reply_text(f"ðŸŽ¥ å½±ç‰‡ file_idï¼š{msg.video.file_id}")
        return

    if msg.chat.type not in ["group", "supergroup"]:
        return

    key = msg.text.strip()
    if key not in reply_rules:
        return

    rule = reply_rules[key]
    medias = rule.get("media", [])
    text = rule.get("text")
    button = rule.get("button")

    reply_markup = None
    if button and button.get("text") and button.get("url"):
        reply_markup = InlineKeyboardMarkup([[InlineKeyboardButton(button["text"], url=button["url"])]] )

    if len(medias) > 1:
        group = []
        for f in medias:
            ext = f.split(".")[-1].lower()
            if ext in ["jpg", "jpeg", "png"]:
                group.append(InputMediaPhoto(open(f"{f}", "rb")))
            elif ext in ["mp4", "mov"]:
                group.append(InputMediaVideo(open(f"{f}", "rb")))
        await msg.reply_media_group(group)
        if text or reply_markup:
            await msg.reply_text(text or "", reply_markup=reply_markup)
    elif len(medias) == 1:
        f = medias[0]
        ext = f.split(".")[-1].lower()
        if ext in ["jpg", "jpeg", "png"]:
            await msg.reply_photo(open(f, "rb"), caption=text, reply_markup=reply_markup)
        elif ext in ["mp4", "mov"]:
            await msg.reply_video(open(f, "rb"), caption=text, reply_markup=reply_markup)
    elif text:
        await msg.reply_text(text, reply_markup=reply_markup)

@app.route("/")
def index():
    return "Bot Running"

def run_flask():
    app.run(host="0.0.0.0", port=8080)

if __name__ == "__main__":
    threading.Thread(target=run_flask).start()
    print("âœ… å•Ÿå‹• Telegram æ©Ÿå™¨äºº...")
    app_bot = ApplicationBuilder().token(TOKEN).build()
    app_bot.add_handler(MessageHandler(filters.TEXT & (~filters.COMMAND), reply))
    app_bot.run_polling()
